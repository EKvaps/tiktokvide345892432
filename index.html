<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HONOR X6 - Sistema</title>

<style>
html,body{
  margin:0;
  padding:0;
  background:black;
  color:#00ff00;
  font-family:monospace;
  height:100%;
  overflow:hidden;
}

#screen{
  padding:20px;
  font-size:22px;
}

.line{
  margin:8px 0;
}

.big{
  font-size:34px;
  color:red;
  font-weight:bold;
}

.progress{
  color:white;
}

#exitBlocker{
  position:fixed;
  inset:0;
  background:black;
  color:red;
  display:none;
  justify-content:center;
  align-items:center;
  z-index:9999;
  text-align:center;
}

#exitBox h1{
  font-size:42px;
}

#exitBox p{
  font-size:24px;
  color:white;
}

#counter{
  font-size:30px;
  margin-top:20px;
}
</style>
</head>

<body>

<div id="screen"></div>

<div id="exitBlocker">
  <div id="exitBox">
    <h1>üîí SALIDA BLOQUEADA</h1>
    <p>Presiona <span id="remaining">30</span> veces para cancelar</p>
    <div id="counter">0 / 30</div>
  </div>
</div>

<script>
const screen = document.getElementById("screen");

function addLine(text, cls="line"){
  const div = document.createElement("div");
  div.className = cls;
  div.innerHTML = text;
  screen.appendChild(div);
  screen.scrollTop = screen.scrollHeight;
}

function fakeProgress(text, duration=800){
  return new Promise(resolve=>{
    let percent = 0;
    const div = document.createElement("div");
    div.className = "line progress";
    screen.appendChild(div);

    const interval = setInterval(()=>{
      percent++;
      div.innerHTML = `${text} ${percent}%`;

      if(percent >= 100){
        clearInterval(interval);
        resolve();
      }
    }, duration/100);
  });
}

async function runTroll(){

  addLine("HONOR X6", "big");
  await fakeProgress("Inicializando sistema...");
  await fakeProgress("Verificando seguridad...");
  await fakeProgress("Conectando a servicios...");
  await fakeProgress("Accediendo al kernel...");
  
  addLine(" ", "line");
  addLine("‚ö† ERROR 444", "big");
  addLine("v1ru5 det3ctad0", "big");

  await fakeProgress("Analizando almacenamiento...");
  await fakeProgress("Obteniendo fotos...");
  await fakeProgress("Extrayendo contactos...");
  await fakeProgress("Obteniendo contrase√±a de Facebook...");
  await fakeProgress("Obteniendo contrase√±a de Instagram...");
  await fakeProgress("Obteniendo contrase√±a de TikTok...");
  await fakeProgress("Copiando archivos privados...");
  await fakeProgress("Subiendo datos a servidor...");
  await fakeProgress("Inyectando m√≥dulos...");
  await fakeProgress("Intentando recuperaci√≥n...");
  await fakeProgress("Recuperaci√≥n fallida...");
  await fakeProgress("Bloqueando dispositivo...");
  
  addLine(" ", "line");
  addLine("üîí DISPOSITIVO COMPROMETIDO", "big");
  addLine("No apague el tel√©fono", "big");

  await fakeProgress("Encriptando datos...");
  await fakeProgress("Finalizando proceso...");
  
  screen.innerHTML = `
    <div style="background:white;color:black;height:100vh;display:flex;justify-content:center;align-items:center;text-align:center;font-size:40px;font-family:sans-serif;">
      üòÇ REL√ÅJATE üòÇ<br><br>
      Solo era un troll üòà
    </div>
  `;
}

/* FULLSCREEN insistente */
setInterval(()=>{
  const el = document.documentElement;
  if(el.requestFullscreen && !document.fullscreenElement){
    el.requestFullscreen().catch(()=>{});
  }
},1000);

/* BLOQUEO bot√≥n atr√°s */
history.pushState(null, null, location.href);
window.onpopstate = function(){
  showExitBlocker();
  history.go(1);
};

/* EXIT BLOCKER */
let taps = 0;
const maxTaps = 30;

function showExitBlocker(){
  document.getElementById("exitBlocker").style.display = "flex";
}

function updateCounter(){
  document.getElementById("counter").innerText = taps + " / " + maxTaps;
  document.getElementById("remaining").innerText = maxTaps - taps;
}

document.getElementById("exitBlocker").addEventListener("click", ()=>{
  taps++;
  updateCounter();
  if(taps >= maxTaps){
    document.getElementById("exitBlocker").style.display = "none";
  }
});

/* Advertencia cerrar */
window.onbeforeunload = function(){
  showExitBlocker();
  return "Proceso cr√≠tico en curso...";
};

/* START */
runTroll();
</script>

</body>
</html>
